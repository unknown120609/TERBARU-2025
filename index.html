<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Slot Demo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    .container {
      margin: 50px auto;
      width: 320px;
      background: #222;
      padding: 20px;
      border-radius: 10px;
    }
    input, button {
      display: block;
      width: 90%;
      margin: 8px auto;
      padding: 10px;
      border-radius: 6px;
      border: none;
    }
    button {
      background: green;
      color: #fff;
      cursor: pointer;
    }
    button:hover { background: limegreen; }
    header {
      background: #222;
      padding: 15px;
      margin-bottom: 20px;
    }
    .games {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 20px;
    }
    .game {
      width: 120px;
      background: #222;
      border-radius: 8px;
      padding: 10px;
      cursor: pointer;
    }
    .game img {
      width: 100%;
      border-radius: 6px;
    }
    .modal {
      display: none;
      position: fixed;
      top:0; left:0;
      width:100%; height:100%;
      background: rgba(0,0,0,0.7);
    }
    .modal-content {
      background: #fff;
      color: #000;
      padding: 20px;
      width: 250px;
      margin: 100px auto;
      border-radius: 10px;
    }
  </style>
</head>
<body>

<!-- Halaman Login / Register -->
<div id="loginPage" class="container">
  <h2>üé∞ Login</h2>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="login()">Login</button>

  <h3>Belum punya akun?</h3>
  <input type="text" id="regUser" placeholder="Buat Username">
  <input type="password" id="regPass" placeholder="Buat Password">
  <button onclick="register()">Register</button>
</div>

<!-- Halaman Dashboard -->
<div id="homePage" style="display:none;">
  <header>
    <h2>Halo, <span id="userName"></span></h2>
    <p>Saldo: Rp <span id="saldo">0</span></p>
    <button onclick="showDeposit()">üí∞ Deposit</button>
    <button onclick="showWithdraw()">üè¶ Withdraw</button>
    <button onclick="logout()">üö™ Logout</button>
  </header>

  <main>
    <h3>Game Populer</h3>
    <div class="games">
      <div class="game" onclick="openGame('Mahjong Ways','https://linkpribadi.com/mahjong')">
        <img src="https://i.ibb.co/5GJdrdZ/mahjong.jpg" alt="Mahjong">
        <p>Mahjong Ways</p>
      </div>
      <div class="game" onclick="openGame('Starlight Princess','https://linkpribadi.com/starlight')">
        <img src="https://i.ibb.co/5R2vvGn/starlight.jpg" alt="Starlight">
        <p>Starlight Princess</p>
      </div>
      <div class="game" onclick="openGame('Gates of Olympus','https://linkpribadi.com/olympus')">
        <img src="https://i.ibb.co/ZmQ0wWp/olympus.jpg" alt="Olympus">
        <p>Gates of Olympus</p>
      </div>
    </div>
  </main>
</div>

<!-- Deposit Modal -->
<div class="modal" id="depositModal">
  <div class="modal-content">
    <h3>Deposit</h3>
    <input type="number" id="depositAmount" placeholder="Masukkan jumlah">
    <button onclick="deposit()">OK</button>
    <button onclick="closeModal('depositModal')">Batal</button>
  </div>
</div>

<!-- Withdraw Modal -->
<div class="modal" id="withdrawModal">
  <div class="modal-content">
    <h3>Withdraw</h3>
    <input type="number" id="withdrawAmount" placeholder="Masukkan jumlah">
    <button onclick="withdraw()">OK</button>
    <button onclick="closeModal('withdrawModal')">Batal</button>
  </div>
</div>

<script>
  // Register
  function register() {
    let user = document.getElementById('regUser').value;
    let pass = document.getElementById('regPass').value;
    if (user && pass) {
      localStorage.setItem("user", user);
      localStorage.setItem("pass", pass);
      localStorage.setItem("saldo", 0);
      alert("Registrasi berhasil, silakan login!");
    } else {
      alert("Isi semua data!");
    }
  }

  // Login
  function login() {
    let user = document.getElementById('username').value;
    let pass = document.getElementById('password').value;
    if (user === localStorage.getItem("user") && pass === localStorage.getItem("pass")) {
      localStorage.setItem("loggedIn", "true");
      showHome();
    } else {
      alert("Login gagal!");
    }
  }

  // Logout
  function logout() {
    localStorage.setItem("loggedIn", "false");
    document.getElementById("homePage").style.display = "none";
    document.getElementById("loginPage").style.display = "block";
  }

  // Tampilkan dashboard
  function showHome() {
    document.getElementById("loginPage").style.display = "none";
    document.getElementById("homePage").style.display = "block";
    document.getElementById("userName").innerText = localStorage.getItem("user");
    document.getElementById("saldo").innerText = localStorage.getItem("saldo");
  }

  // Deposit
  function showDeposit() {
    document.getElementById("depositModal").style.display = "block";
  }
  function deposit() {
    let jumlah = parseInt(document.getElementById("depositAmount").value);
    if (jumlah > 0) {
      let saldo = parseInt(localStorage.getItem("saldo"));
      saldo += jumlah;
      localStorage.setItem("saldo", saldo);
      document.getElementById("saldo").innerText = saldo;
      closeModal('depositModal');
    }
  }

  // Withdraw
  function showWithdraw() {
    document.getElementById("withdrawModal").style.display = "block";
  }
  function withdraw() {
    let jumlah = parseInt(document.getElementById("withdrawAmount").value);
    let saldo = parseInt(localStorage.getItem("saldo"));
    if (jumlah > 0 && jumlah <= saldo) {
      saldo -= jumlah;
      localStorage.setItem("saldo", saldo);
      document.getElementById("saldo").innerText = saldo;
      closeModal('withdrawModal');
    } else {
      alert("Saldo tidak cukup!");
    }
  }

  function closeModal(id) {
    document.getElementById(id).style.display = "none";
  }

  // Open Game
  function openGame(title, link) {
    alert("Membuka game: " + title);
    window.open(link, "_blank");
  }

  // Auto tampilkan dashboard kalau sudah login
  window.onload = function() {
    if (localStorage.getItem("loggedIn") === "true") {
      showHome();
    }
  }
</script>
</body>
</html>
