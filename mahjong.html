<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mahjong Ways Slot</title>
  <style>
    body,html{
      margin:0;padding:0;width:100%;height:100%;
      font-family:sans-serif;background:#0f0820;color:#fff;
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      overflow:hidden;
    }
    .slot{display:grid;grid-template-columns:repeat(5,70px);grid-template-rows:repeat(3,70px);gap:6px;margin-bottom:20px}
    .cell{
      width:70px;height:70px;background:#2e1a55;
      border-radius:8px;display:flex;align-items:center;justify-content:center;
      font-size:28px;transition:transform 0.2s ease;
    }
    .spinning{animation: spinAnim 0.2s linear infinite}
    @keyframes spinAnim{0%{transform:rotateX(0)}100%{transform:rotateX(360deg)}}
    .btn{background:linear-gradient(90deg,#ffb400,#ff7b7b);border:none;padding:10px 24px;
      border-radius:10px;font-weight:bold;cursor:pointer;font-size:16px}
    .msg{margin-top:14px;font-size:18px;font-weight:bold;min-height:24px}
    @media screen and (orientation:portrait){
      body::before{
        content:"Putar perangkat ke Landscape";
        position:fixed;top:0;left:0;width:100%;height:100%;
        background:#000;color:#fff;display:flex;align-items:center;justify-content:center;
        font-size:22px;z-index:999;
      }
      .slot,.btn,.msg{display:none}
    }
  </style>
</head>
<body>
  <div class="slot" id="slot"></div>
  <button class="btn" onclick="spin()">SPIN</button>
  <div class="msg" id="msg">Tekan Spin untuk bermain</div>

  <!-- Audio -->
  <audio id="audioSpin" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
  <audio id="audioStop" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
  <audio id="audioWin" src="https://actions.google.com/sounds/v1/cartoon/congratulations.ogg"></audio>

<script>
const symbols = ["ðŸ€„","ðŸ€…","ðŸ€†","ðŸ€‡","ðŸ€ˆ","ðŸ€‰","ðŸ€Š","ðŸ€‹"];
const slot = document.getElementById("slot");
const msg = document.getElementById("msg");
const audioSpin = document.getElementById("audioSpin");
const audioStop = document.getElementById("audioStop");
const audioWin = document.getElementById("audioWin");

// generate awal
for(let i=0;i<15;i++){
  const c=document.createElement("div");
  c.className="cell";
  c.textContent=symbols[Math.floor(Math.random()*symbols.length)];
  slot.appendChild(c);
}

function spin(){
  msg.textContent = "Reel berputar...";
  const cells = document.querySelectorAll(".cell");
  cells.forEach(c=>c.classList.add("spinning"));
  audioSpin.play();

  // delay tiap reel berhenti bergiliran
  for(let col=0;col<5;col++){
    setTimeout(()=>{
      for(let row=0;row<3;row++){
        const idx = row*5+col;
        cells[idx].classList.remove("spinning");
        cells[idx].textContent = symbols[Math.floor(Math.random()*symbols.length)];
      }
      audioStop.play();
      if(col===4) checkWin();
    }, 1000+col*500);
  }
}

function checkWin(){
  const cells = document.querySelectorAll(".cell");
  const firstRow = Array.from(cells).slice(0,5).map(c=>c.textContent);
  const allSame = firstRow.every(s=>s===firstRow[0]);
  if(allSame){
    msg.textContent="ðŸŽ‰ Menang Besar!";
    audioWin.play();
  } else {
    msg.textContent="Coba Lagi!";
  }
}
</script>
</body>
</html>
